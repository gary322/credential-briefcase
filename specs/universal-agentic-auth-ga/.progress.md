# Progress

## Current

- **Phase**: GA launch readiness (manual gates)
- **Task**: staging soak + external security review + launch sign-off
- **Status**: blocked on time/human sign-off

## Original goal

Move Credential Briefcase from reference implementation to production-grade universal agentic auth platform

## Completed

- Planning
  - Created Smart Ralph spec scaffold for `universal-agentic-auth-ga`.
  - Completed `research.md`, `requirements.md`, `design.md`, `tasks.md`.

- Foundation implementation (selected tasks executed out of order where it reduced risk)
  - AACP profile and GA docs: `docs/COMPATIBILITY_PROFILE.md`, `docs/SUPPORT_MATRIX.md`, `docs/OPERATIONS.md`, `docs/THREAT_MODEL.md`.
  - Profile mode + diagnostics surfaced: `BRIEFCASE_PROFILE_MODE`, `GET /v1/profile`, `GET /v1/diagnostics/compat`, `GET /v1/diagnostics/security`.
  - Docs-vs-code drift guard: `crates/briefcase-core/tests/docs_profile_consistency.rs`.
  - MCP approval interoperability + e2e smoke: `apps/mcp-gateway/src/main.rs` tests.
  - Remote MCP GA enforcement: strict compatibility profile checks + tests (`remote_mcp_profile_*`).
  - Secret leakage regression coverage expanded (logs + receipts + responses + OTel spans) for:
    - control-plane device token
    - provider OAuth refresh/access tokens
    - provider capability token
    - payment proof
    - remote MCP OAuth refresh/access tokens
  - Release evidence foundation: `scripts/run_security_assessment.sh`, `scripts/validate_support_matrix.sh`,
    `scripts/release_manifest.sh` + CI wiring.
  - CLI health triage: `briefcase diagnostics check` (no raw secrets).
  - Windows IPC universality:
    - Windows named-pipe transport (daemon + clients) + integration tests.
  - Shared-host hardening:
    - `BRIEFCASE_STRICT_HOST=1` loopback enforcement + Unix permission hardening + tested.
  - Enterprise hardening:
    - DPoP on device sync endpoints (policy + receipts) + replay/stale rejection tests.
    - Policy bundle compatibility guards in `ga` mode + evidence receipts.
  - Migration reliability:
    - SQLite schema versioning (`PRAGMA user_version`) + N-1 style upgrade/compat tests.
  - Provider interoperability:
    - Provider contract harness (`briefcase-conformance`) + reference gateway conformance test.
  - Release qualification:
    - `scripts/ga_qualification.sh` evidence bundle (provider contract + security assessment + harnesses).
    - Release workflow gated on qualification artifacts; CI uploads qualification artifacts.

## Learnings

- The codebase already implements core agentic-auth primitives strongly; the delta is primarily GA hardening, compatibility profile formalization, and operational evidence.
- Docs and wire behavior around capability/PoP need explicit versioned alignment.
- Platform hardening work (notably Windows IPC and multi-user posture) is required before calling the solution universal.

## Blockers

- Some plan items are non-code and time-bound (soak, external security review, launch gate).

## Next steps

1. Run repo-wide quality gates (fmt/clippy/test) and fix any warnings.
2. Execute the non-code GA gates:
   - staging soak (7.2) with 30-day SLO evidence
   - external security review (7.3) using the assessment bundle artifacts
   - launch decision sign-off (7.4) using the checklist in `docs/RELEASING.md`

Supporting tooling added for these gates:

- Soak helper: `briefcase diagnostics soak` (writes a JSON report if `--out` is set).
- External review packet helper: `bash scripts/security_review_packet.sh --label vX.Y.Z`
- GA sign-off record: `docs/GA_SIGNOFF_v1.0.0.md` (required for the final `v1.0.0` release)
